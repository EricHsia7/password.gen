$(".loadbg").delay(1e3).fadeOut(333),f=0,pwdmode=0;var passwordLength=16;engwordobj=$.ajax({url:"https://erichsia7.github.io/password.gen/engword.txt",async:!1});var char="0123456789abcdefghijklmnopqrstuvw,xyzABCDE.FGHIJKLMN/OPQRSTUVWXYZ!@#$%^&*()_+?><:-{}[]";function genid(){for(var e=[8,4,4,4,12],t="",o="",a=0;a<e.length;a++){t="";for(var n=0;n<e[a];n++){var s=Math.floor(Math.random()*"abcdef012345678".length);t+="abcdef012345678".substring(s,s+1)}o+="-"+t}return o.substring(1,o.length)}function getPassword(){if(pwdmode<.5){for(var e=char,t="",o=0;o<passwordLength;o++){var a=Math.floor(Math.random()*e.length);t+=e.substring(a,a+1)}if(document.getElementById("password").value=t,f>.5){$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),$(".message").remove();var n=genid();setTimeout(function(){$("body").append('<div class="message" type="copied" style="--text-length:6" id="'+n+'">已產生新密碼</div>')},1),setTimeout(function(){$("#"+n).animate({top:"65px"},111)},2),setTimeout(function(){$("#"+n).animate({top:"-60px"},111)},555),setTimeout(function(){$("#"+n).remove()},780)}f>10&&(f=1),f+=1}if(pwdmode>.5){var s,i=engwordobj.responseText.split(",");if(s=i[Math.floor(Math.random()*i.length)]+Math.floor(Math.random()*i.length)+"-"+i[Math.floor(Math.random()*i.length)]+Math.floor(Math.random()*i.length)+"-"+i[Math.floor(Math.random()*i.length)]+Math.floor(Math.random()*i.length),document.getElementById("password").value=s,f>.5){$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),$(".message").remove();var r=genid();setTimeout(function(){$("body").append('<div class="message" type="copied" style="--text-length:6" id="'+r+'">已產生新密碼</div>')},1),setTimeout(function(){$("#"+r).animate({top:"65px"},111)},2),setTimeout(function(){$("#"+r).animate({top:"-60px"},111)},555),setTimeout(function(){$("#"+r).remove()},780)}f>10&&(f=1),f+=1}}function changemode(){if(f=0,o=99,pwdmode<.5){pwdmode=1,$("#modeicondd").attr("src","icon/random3.svg"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),$(".message").remove();var e=genid();setTimeout(function(){$("body").append('<div class="message" type="copied" style="--text-length:8" id="'+e+'">已切換為好記模式</div>')},1),setTimeout(function(){$("#"+e).animate({top:"65px"},111)},2),setTimeout(function(){$("#"+e).animate({top:"-60px"},111)},555),setTimeout(function(){$("#"+e).remove()},780),getPassword()}else{pwdmode=0,$("#modeicondd").attr("src","icon/simple3.svg"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),$(".message").remove();var t=genid();setTimeout(function(){$("body").append('<div class="message" type="copied" style="--text-length:8" id="'+t+'">已切換為隨機模式</div>')},1),setTimeout(function(){$("#"+t).animate({top:"65px"},111)},2),setTimeout(function(){$("#"+t).animate({top:"-60px"},111)},555),setTimeout(function(){$("#"+t).remove()},780),getPassword()}}function checki(e){return e<10?"0"+e:e}function sharepwdlink(){$(".sharelink").css({display:"block"}),$(".sharelinkbg").css({display:"block"}),setTimeout(function(){$(".sharelink").css({transform:"translate(-50%,-50%) scale(1)",opacity:"1"}),$(".sharelinkbg").css({background:"rgba(0, 0, 0, 0.6)"})},10),$("#sharelinkcopybtn").html("複製連結"),$("#sc-link").click()}function copysharelink(){document.getElementById("shareurlbbinput").select(),document.execCommand("Copy"),$("#sharelinkcopybtn").html("已複製")}function copy(e){var t=new Date,o=document.getElementById(e);o.select(),document.execCommand("Copy"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),$(".message").remove();var a=genid();setTimeout(function(){$("body").append('<div class="message" type="copied" style="--text-length:5" id="'+a+'">已複製密碼</div>')},1),setTimeout(function(){$("#"+a).animate({top:"65px"},111)},2),setTimeout(function(){$("#"+a).animate({top:"-60px"},111)},555),setTimeout(function(){$("#"+a).remove()},780),$("#historytext").html("<br><br>");var n=t.getMonth()+1+""+t.getDate()+t.getHours()+t.getMinutes()+t.getSeconds()+"-"+Math.floor(4096*Math.random());$(".historyframe").prepend('<div class="pwwstbox historyp" id="'+n+'"><div class="content"><h4 id="htit-'+n+'">'+(t.getMonth()+1)+"/"+t.getDate()+" "+checki(t.getHours())+":"+checki(t.getMinutes())+'<div class="pwwhshare" sh="'+n+'"></div></h4><div class="description"><input type="text" value="'+o.value+'" class="pwdhistoryinput" readonly="readonly" id="input-'+n+'"></div></div></div>'),$(".pwdhistoryinput").click(function(){$(this).select(),document.execCommand("Copy")}),$(".pwwhshare").click(function(){var e=$("#input-"+$(this).attr("sh")).val(),t=parseInt(Math.floor(8*Math.random()+1)+""+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)),o=e,a=aesjs.utils.utf8.toBytes(o),n=new aesjs.ModeOfOperation.ctr([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],new aesjs.Counter(t)).encrypt(a),s=aesjs.utils.hex.fromBytes(n);sharepwdlink(),$("#shareurlbbinput").val("https://erichsia7.github.io/password.gen/share/?a="+s+"&b="+t+"&c="+btoa($("#htit-"+$(this).attr("sh")).text())),document.querySelector("#pwwshareqrcodeiii").innerHTML="";new QRCode(document.querySelector("#pwwshareqrcodeiii"),{text:"https://erichsia7.github.io/password.gen/share/?a="+s+"&b="+t+"&c="+btoa($("#htit-"+$(this).attr("sh")).text()),width:1024,height:1024,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})})}getPassword();var o=100;function pp(){o-=.111,$(".box").css({background:"linear-gradient(90deg, var(--bar-color-a) 0%, var(--bar-color-a) "+o+"%, var(--bar-color-b) "+o+"%)"}),o<.111&&(clearInterval(id),o=100,getPassword(),id=setInterval(pp,10))}id=setInterval(pp,10);var g=2;$("#password").click(function(){if(pwdmode<.5){o=0,f=0,passwordLength>127?passwordLength=8:passwordLength*=2,$(".boxmsg").fadeIn(111).delay(555).fadeOut(111);var e="密碼長度為"+passwordLength;$(".message").remove(),setTimeout(function(){$("body").append('<div class="message" type="copied" style="--text-length:'+e.length+'">密碼長度為'+passwordLength+"</div>")},1),setTimeout(function(){$(".message").animate({top:"65px"},111)},2),setTimeout(function(){$(".message").animate({top:"-60px"},111)},555),setTimeout(function(){$(".message").remove()},780)}});var niees=2;function moredivopen(){niees>"1"?($(".morediv").fadeIn(1).animate({height:"300px",width:"230px",opacity:1},555),niees-=2):($(".morediv").animate({height:"200px",width:"130px",opacity:0},555).fadeOut(1),niees+=2)}$(".sharelink .sharelinktitle .sharelinkclose,.sharelinkbg").click(function(){$(".sharelink").css({transform:"translate(-50%,-50%) scale(0.9)",opacity:"0"}),$(".sharelinkbg").css({background:"rgba(0, 0, 0, 0)"}),setTimeout(function(){$(".sharelink,.sharelinkbg").css({display:"none"})},500)});
