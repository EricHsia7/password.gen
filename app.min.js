$(".loadbg").delay(1e3).fadeOut(333),f=0,pwdmode=0;var passwordLength=16;engwordobj=$.ajax({url:"https://erichsia7.github.io/password.gen/engword.txt",async:!1});var char="0123456789abcdefghijklmnopqrstuvw,xyzABCDE.FGHIJKLMN/OPQRSTUVWXYZ!@#$%^&*()_+?><:-{}[]";function getPassword(){if(pwdmode<.5){for(var t=char,e="",a=0;a<passwordLength;a++){var o=Math.floor(Math.random()*t.length);e+=t.substring(o,o+1)}document.getElementById("password").value=e,f>.5&&($("#boxmsg").html("已產生新密碼！"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111)),f>10&&(f=1),f+=1}if(pwdmode>.5){var s,n=engwordobj.responseText.split(",");s=n[Math.floor(Math.random()*n.length)]+Math.floor(Math.random()*n.length)+"-"+n[Math.floor(Math.random()*n.length)]+Math.floor(Math.random()*n.length)+"-"+n[Math.floor(Math.random()*n.length)]+Math.floor(Math.random()*n.length),document.getElementById("password").value=s,f>.5&&($("#boxmsg").html("已產生新密碼！"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111)),f>10&&(f=1),f+=1}}function changemode(){f=0,o=99,pwdmode<.5?(pwdmode=1,$("#modeicondd").attr("src","icon/random3.svg"),$("#boxmsg").html("已切換為好記模式！"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),getPassword()):(pwdmode=0,$("#modeicondd").attr("src","icon/simple3.svg"),$("#boxmsg").html("已切換為隨機模式！"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),getPassword())}function checki(t){return t<10?"0"+t:t}function sharepwdlink(){$(".sharelink").css({display:"block"}),$(".sharelinkbg").css({display:"block"}),setTimeout(function(){$(".sharelink").css({transform:"translate(-50%,-50%) scale(1)",opacity:"1"}),$(".sharelinkbg").css({background:"rgba(0, 0, 0, 0.6)"})},10),$("#sharelinkcopybtn").html("複製連結"),$("#sc-link").click()}function copysharelink(){document.getElementById("shareurlbbinput").select(),document.execCommand("Copy"),$("#sharelinkcopybtn").html("已複製")}function copy(t){var e=new Date,a=document.getElementById(t);a.select(),document.execCommand("Copy"),$("#boxmsg").html("已複製密碼！"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111),$("#historytext").html("<br><br>");var o=e.getMonth()+1+""+e.getDate()+e.getHours()+e.getMinutes()+e.getSeconds()+"-"+Math.floor(4096*Math.random());$(".historyframe").prepend('<div class="pwwstbox historyp" id="'+o+'"><div class="content"><h4 id="htit-'+o+'">'+(e.getMonth()+1)+"/"+e.getDate()+" "+checki(e.getHours())+":"+checki(e.getMinutes())+'<div class="pwwhshare" sh="'+o+'"></div></h4><div class="description"><input type="text" value="'+a.value+'" class="pwdhistoryinput" readonly="readonly" id="input-'+o+'"></div></div></div>'),$(".pwdhistoryinput").click(function(){$(this).select(),document.execCommand("Copy")}),$(".pwwhshare").click(function(){var t=$("#input-"+$(this).attr("sh")).val(),e=parseInt(Math.floor(8*Math.random()+1)+""+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)+Math.floor(8*Math.random()+1)),a=t,o=aesjs.utils.utf8.toBytes(a),s=new aesjs.ModeOfOperation.ctr([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],new aesjs.Counter(e)).encrypt(o),n=aesjs.utils.hex.fromBytes(s);sharepwdlink(),$("#shareurlbbinput").val("https://erichsia7.github.io/password.gen/share/?a="+n+"&b="+e+"&c="+btoa($("#htit-"+$(this).attr("sh")).text())),$(".pwwshareqrcodeimg").attr("src","https://chart.apis.google.com/chart?cht=qr&chl="+encodeURIComponent("https://erichsia7.github.io/password.gen/share/?a="+n+"&b="+e+"&c="+btoa($("#htit-"+$(this).attr("sh")).text()))+"&chs=512x512")})}getPassword();var o=100;function pp(){o-=.111,$(".box").css({background:"linear-gradient(90deg, var(--bar-color-a) 0%, var(--bar-color-a) "+o+"%, var(--bar-color-b) "+o+"%)"}),o<.111&&(clearInterval(id),o=100,getPassword(),id=setInterval(pp,10))}id=setInterval(pp,10);var g=2;$("#password").click(function(){pwdmode<.5&&(o=0,f=0,passwordLength>127?passwordLength=8:passwordLength*=2,$("#boxmsg").html("密碼長度為"+passwordLength+"！"),$(".boxmsg").fadeIn(111).delay(555).fadeOut(111))});var niees=2;function moredivopen(){niees>"1"?($(".morediv").fadeIn(1).animate({height:"300px",width:"230px",opacity:1},555),niees-=2):($(".morediv").animate({height:"200px",width:"130px",opacity:0},555).fadeOut(1),niees+=2)}$(".sharelink .sharelinktitle .sharelinkclose,.sharelinkbg").click(function(){$(".sharelink").css({transform:"translate(-50%,-50%) scale(0.9)",opacity:"0"}),$(".sharelinkbg").css({background:"rgba(0, 0, 0, 0)"}),setTimeout(function(){$(".sharelink,.sharelinkbg").css({display:"none"})},500)});
